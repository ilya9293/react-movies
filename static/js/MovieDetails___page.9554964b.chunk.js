"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[562],{599:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(861),a=t(885),s=t(757),c=t.n(s),i=t(791),o=t(257),u=t(390),l=t(271),p=t(523),f=t(184);var h=function(e){var n,t=e.path,r=e.name,a=e.location;return(0,f.jsx)(p.OL,{to:{pathname:t,state:{from:null===(n=a.state)||void 0===n?void 0:n.from}},className:"listInfo__link",children:r})},d=t(354);var v=function(e){var n=e.name,t=e.onClick;return(0,f.jsxs)("button",{onClick:t,className:"button",children:["Go back to ","/movies"===n?"Movies":"Home"]})},m=(0,i.lazy)((function(){return t.e(709).then(t.bind(t,877))})),x=(0,i.lazy)((function(){return t.e(753).then(t.bind(t,122))}));var j=function(){var e,n,t=(0,i.useState)({}),s=(0,a.Z)(t,2),p=s[0],j=s[1],w=(0,l.UO)().movieId,k=(0,l.$B)(),g=(0,l.k6)(),b=(0,l.TH)();(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.TD)(w);case 3:n=e.sent,j(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(0,o.Z)("Something went wrong"),g.replace("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[g,w]);var _=p.id,N=p.poster_path,y=p.title,I=p.name,T=p.release_date,Z=p.vote_average,S=p.overview,A=p.genres,C=new Date(T).getFullYear();return(0,f.jsxs)("section",{className:"sectionOneMovie",children:[(0,f.jsx)(v,{onClick:function(){var e,n;g.push(null!==(e=null===(n=b.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/")},name:null===(e=b.state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname}),_&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"info",children:[(0,f.jsx)("img",{src:N?"https://image.tmdb.org/t/p/w500/".concat(N):d,alt:y,className:"poster"}),(0,f.jsxs)("div",{className:"containerForInfo",children:[(0,f.jsxs)("h1",{className:"mainTitle",children:[y,I," ","(".concat(C,")")]}),(0,f.jsx)("p",{className:"userScore",children:"User score: ".concat(Math.round(10*Z),"%")}),(0,f.jsx)("h2",{className:"titleOverview",children:"Overview"}),(0,f.jsx)("p",{className:"overview",children:S}),(0,f.jsx)("h2",{className:"titleGenres",children:"Genres"}),(0,f.jsx)("ul",{className:"listGenres",children:A.map((function(e){var n=e.id,t=e.name;return(0,f.jsx)("li",{className:"listGenres__item",children:(0,f.jsx)("p",{className:"listGenres__text",children:t})},n)}))})]})]}),(0,f.jsx)("div",{className:"addInfo",children:(0,f.jsxs)("section",{className:"navAddInfo",children:[(0,f.jsx)("h3",{className:"titleAddInfo",children:"Additional information"}),(0,f.jsxs)("ul",{className:"listInfo",children:[(0,f.jsx)("li",{className:"listInfo__item",children:(0,f.jsx)(h,{path:"".concat(k.url,"/cast"),name:"Cast",location:b})}),(0,f.jsx)("li",{className:"listInfo__item",children:(0,f.jsx)(h,{path:"".concat(k.url,"/reviews"),name:"Reviews",location:b})})]})]})}),(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading..."}),children:(0,f.jsxs)(l.rs,{children:[(0,f.jsx)(l.AW,{path:"".concat(k.path,"/cast"),children:(0,f.jsx)(m,{})}),(0,f.jsx)(l.AW,{path:"".concat(k.path,"/reviews"),children:(0,f.jsx)(x,{})})]})})]})]})}},390:function(e,n,t){t.d(n,{Ok:function(){return o},QV:function(){return l},TD:function(){return u},Xh:function(){return p},fp:function(){return i}});var r=t(861),a=t(757),s=t.n(a),c="88cb0f604f2d1a4c96f62a0a73ad3d75",i=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(c));case 2:return n=e.sent,e.abrupt("return",n.ok?n.json():Promise.reject(new Error(n.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&language=en-US&query=").concat(n,"&page=1&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t.ok?t.json():Promise.reject(new Error(t.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(c,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.ok?t.json():Promise.reject(new Error(t.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.ok?t.json():Promise.reject(new Error(t.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(n){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 2:return t=e.sent,e.abrupt("return",t.ok?t.json():Promise.reject(new Error(t.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},257:function(e,n,t){var r=t(579);n.Z=function(e){return r.Am.warn(e)}},354:function(e,n,t){e.exports=t.p+"static/media/avatar.6b0eb1fcff6e167880ba.jpg"}}]);
//# sourceMappingURL=MovieDetails___page.9554964b.chunk.js.map